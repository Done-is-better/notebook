#### 适配器模式

##### 类适配器模式

> Adapter类，通过继承src 类，实现dst类接口，完成src 到dst的适配

![image-20211011224350663](C:\Users\Simon Kerola\AppData\Roaming\Typora\typora-user-images\image-20211011224350663.png)

##### 对象适配器

> 基本思路和类适配器相同，只是将Adapter类做修改，不是继承src类，而是持有src类的实例，以解决兼容性的问题
>
> 根据合成复用原则，在系统中尽量使用关联关系代替继承关系
>
> 对象适配器模式是适配器模式常用的一种

![image-20211012195859216](C:\Users\Simon Kerola\AppData\Roaming\Typora\typora-user-images\image-20211012195859216.png)

##### 接口适配器模式

> 当不需要全部实现接口提供的方法时，可以先设计一个抽象类实现接口，并为该接口中每个方法提供一个默认实现，那么该抽象类的子类可有选择的覆盖父类的某些方法来实现需求。

适用于一个接口不想使用其所有的方法的情况。

+++



#### 桥接模式

> 桥接模式：将实现与抽象放在另两个不同的类层次中，使两个层次可以独立改变

> Bridge Pattern模式基于类的最小设计原则，通过使用封装、聚合、继承等行为让不同的类承担不同的职责。它的主要特点是把抽象与行为实现分离开来，从而可以保持各部分的独立性以及它们功能的扩展。

![image-20211013164317916](C:\Users\Simon Kerola\AppData\Roaming\Typora\typora-user-images\image-20211013164317916.png)

在jdbc中的应用：Driver接口

> **总结**
>
> 实现了抽象和实现的分离，极大地提高了系统的灵活性，有助于系统进行分层设计
>
> 桥接模式代替多层继承，可以减少子类的个数，降低系统的管理和维护成本。
>
> 桥接模式的引入增加了系统的理解和设计难度，由于聚合关联关系建立在抽象层，要求开发者针对抽象进行设计和编程

> **应用场景**
>
> 适用于不希望使用继承或因为多层次继承导致系统类的个数急剧增加的系统。
>
> *jdbc驱动程序、银行转账系统（转账分类：网上转账、柜台转账、ATM转账 转账用户类型：普通用户，银卡用户、金卡用户） 消息管理（类型：即时消息、延时消息 分类：手机短信，邮件消息.....）*



+++

#### 装饰者模式

> 装饰者模式：动态的将新功能附加到对象上。在对象功能扩展方面，它比继承更有弹性。
>
> 装饰者模式也体现了开闭原则

![image-20211013195347812](C:\Users\Simon Kerola\AppData\Roaming\Typora\typora-user-images\image-20211013195347812.png)

源码：

java的IO结构，FilterInputStream就是一个装饰者

![image-20211013192310487](C:\Users\Simon Kerola\AppData\Roaming\Typora\typora-user-images\image-20211013192310487.png)



+++

#### 组合模式

> 组合模式，又叫部分整体模式，它创建了对象组的树形结构，将对象组合成树状结构以表示“整体-部分”的层次关系
>
> 组合模式依据树形结构来组合对象，用来表示部分以及整体层次。
>
> 组合模式使用户对单个对象和组合对象的访问具有一致性，即组合能让客户以一致的方式处理个别对象以及组合关系。

![image-20211014203100279](C:\Users\Simon Kerola\AppData\Roaming\Typora\typora-user-images\image-20211014203100279.png)

java的集合类HashMap使用了组合模式